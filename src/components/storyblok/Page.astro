---
import { storyblokEditable } from '@storyblok/astro';

export interface Props {
  blok: {
    title: string;
    content: any; // Rich text content
    excerpt?: string;
    published?: boolean;
    show_in_menu?: boolean;
    seo_title?: string;
    seo_description?: string;
  };
}

const { blok } = Astro.props;
---

<div class="storyblok-page" {...storyblokEditable(blok)}>
  <header class="page-header">
    <h1 class="page-title">{blok.title}</h1>
    
    {blok.excerpt && (
      <p class="page-excerpt">{blok.excerpt}</p>
    )}
  </header>

  <div class="page-content">
    {blok.content && (
      <div class="page-body">
        <!-- Rich text content would be rendered here -->
        {typeof blok.content === 'string' ? (
          <p>{blok.content}</p>
        ) : (
          <div>Page content</div>
        )}
      </div>
    )}
  </div>
</div>

<style lang="scss">
@use "src/styles/tokens.scss";

.storyblok-page {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--spacing-lg);
}

.page-header {
  margin-bottom: var(--spacing-xxl);
  text-align: center;

  .page-title {
    font-size: var(--font-size-xxl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    margin-bottom: var(--spacing-lg);
    line-height: 1.2;
  }

  .page-excerpt {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto;
  }
}

.page-content {
  .page-body {
    color: var(--color-text-secondary);
    line-height: 1.7;
    font-size: var(--font-size-md);

    p {
      margin-bottom: var(--spacing-md);

      &:last-child {
        margin-bottom: 0;
      }
    }

    h2, h3, h4, h5, h6 {
      color: var(--color-text-primary);
      margin-top: var(--spacing-xl);
      margin-bottom: var(--spacing-md);
    }

    h2 {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
    }

    h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
    }

    ul, ol {
      margin-bottom: var(--spacing-md);
      padding-left: var(--spacing-lg);

      li {
        margin-bottom: var(--spacing-xs);
      }
    }

    blockquote {
      border-left: 4px solid var(--color-primary);
      padding-left: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
      font-style: italic;
      color: var(--color-text-secondary);
    }

    a {
      color: var(--color-primary);
      text-decoration: none;

      &:hover {
        text-decoration: underline;
      }
    }
  }
}

@media (max-width: 768px) {
  .storyblok-page {
    padding: var(--spacing-md);
  }

  .page-header .page-title {
    font-size: var(--font-size-xl);
  }
}
</style>

